---
title: /match/list
position: 5.3
type: get
description: Список матчей на сервере
right_code: |
  ~~~ json
  [
    {
      "id": "55786827805622272",
      "game": "DUELS",
      "map": {
        "id": "Rizaro",
        "name": "Ризаро",
        "teams": 2,
        "playersInTeam": 1
      },
      "date": 1559601416,
      "duration": 46,
      "players": 4
    },
    {
      "id": "55786827608489984",
      "game": "DUELS",
      "map": {
        "id": "KHarbi",
        "name": "Харби",
        "teams": 2,
        "playersInTeam": 1
      },
      "date": 1559601416,
      "duration": 105,
      "players": 2
    }
  ]
  ~~~
  {: title="Пример запроса" url="/match/list?before=55786868737835008&count=2" }
---

<h6>Дополнительные параметры</h6>
before
: Будут выведены все матчи, которые произошли <b>до</b> матча с этим ID.

after
: Будут выведены все матчи, которые произошли <b>после</b> матча с этим ID.

count
: Количество матчей, которые вернет сервер. По умолчанию - 20, максимально - 100.

При выполнении запроса обязательно нужно указать `before` или `after`, иначе сервер вернет ошибку.

ID матча это не случайное число, а Snowflake ID (по мотивам Twitter и Discord, можете загуглить). Используя это знание, можно смотреть матчи, которые происходили в определенное время.

ID матча (64 бита) состоит из:

-   `42 бита` - время в миллисекундах, начиная от 01.01.2019 (`1546300800` unix timestamp).
-   `10 бит` - внутренний ID генератора, не используется в данный момент.
-   `12 бит` - счетчик, сбрасывающийся каждую миллисекунду.

Таким образом, если нужно узнать самый первый матч 29.05.2019, то запрос будет следующим:

```js
var vime_epoch = 1546300800; // 01.01.2019 в unix timestamp
var timestamp  = 1559088000; // 29.05.2019 в unix timestamp
var id  = ((timestamp - vime_epoch) * 1000) << 22 // 1000 - делаем миллисекунды из секунд
        = 53633404108800000;
var url = "https://api.vimeworld.com/match/list?count=1&after=" + id;
```
